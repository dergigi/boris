{
  "version": 2,
  "functions": {
    "api/article-og.ts": {
      "maxDuration": 10
    },
    "api/article-og-refresh.ts": {
      "maxDuration": 10
    }
  },
  "rewrites": [
    {
      "source": "/a/:naddr",
      "destination": "/api/article-og?naddr=:naddr",
      "has": [
        { "type": "query", "key": "og", "value": "1" }
      ]
    },
    {
      "source": "/a/:naddr",
      "destination": "/api/article-og?naddr=:naddr",
      "has": [
        {
          "type": "header",
          "key": "user-agent",
          "value": ".*(bot|Bot|BOT|crawler|Crawler|CRAWLER|spider|Spider|facebookexternalhit|Slackbot|Twitterbot|LinkedInBot|WhatsApp|TelegramBot|Discordbot|Googlebot|bingbot|YandexBot|Baiduspider).*"
        }
      ]
    },
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ]
}

