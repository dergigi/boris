/* Reader view */
.reader { 
  background: rgb(24 24 27); /* zinc-900 */
  border: 1px solid rgb(63 63 70); /* zinc-700 */
  border-radius: 8px; 
  padding: 0.75rem; 
  text-align: left; 
  overflow: hidden; 
  max-width: 900px;
  margin: 0 auto;
  padding-bottom: 2rem; /* Add space for progress indicator */
}

/* Video container - responsive wrapper following react-player docs */
.reader-video { 
  position: relative;
  width: 80vw;  /* 80% of viewport width */
  min-width: 400px;  /* Minimum width */
  max-width: 1000px;   /* Maximum width */
  aspect-ratio: 16/9;
  margin: 0 -0.75rem 1rem -0.75rem; /* Negative margins to counteract reader padding */
  background: rgb(0 0 0); /* black */
}
.reader.empty { color: rgb(161 161 170); /* zinc-400 */ }
.loading-spinner { display: flex; align-items: center; gap: 0.5rem; color: rgb(161 161 170); /* zinc-400 */ }
.loading-spinner svg { font-size: 1.2rem; }
.reader-header { margin-bottom: 2rem; position: relative; }
.reader-title { margin: 0 0 0.75rem 0; font-family: var(--reading-font); font-size: 2.5rem; font-weight: 700; line-height: 1.2; }
.reader-summary { color: rgb(212 212 216); /* zinc-300 */ font-size: 1.2rem; line-height: 1.6; margin: 0 0 1rem 0; font-family: var(--reading-font); }
.reader-meta { display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; }
.publish-date { display: flex; align-items: center; gap: 0.4rem; font-size: 0.813rem; color: rgba(161, 161, 170, 0.7); /* zinc-400 */ opacity: 0.85; }
.publish-date svg { font-size: 0.75rem; opacity: 0.6; }
.publish-date-topright { position: absolute; top: 1rem; right: 1rem; font-size: 0.813rem; color: rgb(255 255 255); /* white */ padding: 0.4rem 0.75rem; text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5); z-index: 10; }
.reading-time { display: flex; align-items: center; gap: 0.5rem; padding: 0.375rem 0.75rem; background: rgba(161, 161, 170, 0.1); /* zinc-400 */ border: 1px solid rgba(161, 161, 170, 0.3); /* zinc-400 */ border-radius: 6px; font-size: 0.875rem; color: rgb(161 161 170); /* zinc-400 */ }
.reading-time svg { font-size: 0.875rem; }
.highlight-indicator { display: flex; align-items: center; gap: 0.5rem; padding: 0.375rem 0.75rem; background: rgba(99, 102, 241, 0.1); /* indigo-500 */ border: 1px solid rgba(99, 102, 241, 0.3); /* indigo-500 */ border-radius: 6px; font-size: 0.875rem; color: rgb(99 102 241); /* indigo-500 */ }
.highlight-indicator svg { font-size: 0.875rem; }
.reader-html { color: rgb(228 228 231); /* zinc-200 */ line-height: 1.6; word-wrap: break-word; overflow-wrap: break-word; word-break: break-word; font-family: var(--reading-font); font-size: var(--reading-font-size); }
.reader-markdown { color: rgb(228 228 231); /* zinc-200 */ line-height: 1.7; font-family: var(--reading-font); font-size: var(--reading-font-size); }
/* Ensure content is left-aligned even if source markup uses center */
.reader .reader-html *, .reader .reader-markdown * { text-align: left !important; font-family: inherit !important; }
.reader center, .reader [align="center"] { text-align: left !important; }
/* Tame images from external content */
.reader .reader-html img, .reader .reader-markdown img { max-width: 100%; max-height: 70vh; height: auto; width: auto; display: block; margin: 0.75rem 0; border-radius: 6px; }
/* Headlines with Tailwind typography */
.reader-markdown h1, .reader-html h1 { 
  font-size: 2.25rem; /* text-4xl */
  font-weight: 700; 
  line-height: 1.2; 
  margin-top: 2rem; 
  margin-bottom: 1rem; 
  color: rgb(244 244 245); /* zinc-100 */
}
.reader-markdown h2, .reader-html h2 { 
  font-size: 1.875rem; /* text-3xl */
  font-weight: 600; 
  line-height: 1.3; 
  margin-top: 1.75rem; 
  margin-bottom: 0.875rem; 
  color: rgb(244 244 245); /* zinc-100 */
}
.reader-markdown h3, .reader-html h3 { 
  font-size: 1.5rem; /* text-2xl */
  font-weight: 600; 
  line-height: 1.4; 
  margin-top: 1.5rem; 
  margin-bottom: 0.75rem; 
  color: rgb(244 244 245); /* zinc-100 */
}
.reader-markdown h4, .reader-html h4 { 
  font-size: 1.25rem; /* text-xl */
  font-weight: 600; 
  line-height: 1.4; 
  margin-top: 1.25rem; 
  margin-bottom: 0.625rem; 
  color: rgb(228 228 231); /* zinc-200 */
}
.reader-markdown h5, .reader-html h5 { 
  font-size: 1.125rem; /* text-lg */
  font-weight: 600; 
  line-height: 1.4; 
  margin-top: 1rem; 
  margin-bottom: 0.5rem; 
  color: rgb(228 228 231); /* zinc-200 */
}
.reader-markdown h6, .reader-html h6 { 
  font-size: 1rem; /* text-base */
  font-weight: 600; 
  line-height: 1.4; 
  margin-top: 1rem; 
  margin-bottom: 0.5rem; 
  color: rgb(228 228 231); /* zinc-200 */
}
.reader-markdown p { margin: 0.5rem 0; }
.reader-html p, .reader-html div, .reader-html span, .reader-html li, .reader-html td, .reader-html th { font-size: 1em !important; }
/* Lists */
.reader-markdown ul, .reader-html ul {
  list-style-type: disc;
  margin: 1rem 0;
  padding-left: 2rem;
}
.reader-markdown ol, .reader-html ol {
  list-style-type: decimal;
  margin: 1rem 0;
  padding-left: 2rem;
}
.reader-markdown li, .reader-html li {
  margin: 0.375rem 0;
  line-height: 1.6;
  color: rgb(228 228 231); /* zinc-200 */
}
.reader-markdown ul ul, .reader-markdown ol ul, .reader-html ul ul, .reader-html ol ul {
  list-style-type: circle;
  margin: 0.25rem 0;
}
.reader-markdown ul ol, .reader-markdown ol ol, .reader-html ul ol, .reader-html ol ol {
  list-style-type: lower-alpha;
  margin: 0.25rem 0;
}
.reader-markdown li p, .reader-html li p {
  margin: 0.25rem 0;
}
.reader-markdown blockquote, .reader-html blockquote { 
  margin: 1.5rem 0; 
  padding: 1rem 0 1rem 2rem;
  font-style: italic;
}
.reader-markdown blockquote p, .reader-html blockquote p { margin: 0.5rem 0; }
.reader-markdown blockquote p:first-child, .reader-html blockquote p:first-child { margin-top: 0; }
.reader-markdown blockquote p:last-child, .reader-html blockquote p:last-child { margin-bottom: 0; }
.reader-markdown a { color: rgb(96 165 250); /* blue-400 */ text-decoration: none; }
.reader-markdown a:hover { text-decoration: underline; }
.reader-markdown code { background: rgb(30 30 30); /* ~zinc-850 */ border: 1px solid rgb(63 63 70); /* zinc-700 */ border-radius: 4px; padding: 0.15rem 0.4rem; font-size: 0.9em; font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace; }
.reader-markdown pre { background: rgb(30 30 30); /* ~zinc-850 */ border: 1px solid rgb(63 63 70); /* zinc-700 */ border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; line-height: 1.5; font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace; }
.reader-markdown pre code { background: transparent; border: none; padding: 0; font-size: 0.9em; display: block; }
/* Prism.js enhancements */
.reader-markdown pre[class*="language-"] { background: rgb(30 30 30); /* ~zinc-850 */ border: 1px solid rgb(63 63 70); /* zinc-700 */ }
.reader-markdown code[class*="language-"] { background: transparent; text-shadow: none; }
.reader-html pre { background: rgb(30 30 30); /* ~zinc-850 */ border: 1px solid rgb(63 63 70); /* zinc-700 */ border-radius: 8px; padding: 1rem; overflow-x: auto; margin: 1rem 0; font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace; }
.reader-html code { background: rgb(30 30 30); /* ~zinc-850 */ border: 1px solid rgb(63 63 70); /* zinc-700 */ border-radius: 4px; padding: 0.15rem 0.4rem; font-size: 0.9em; font-family: 'Monaco', 'Menlo', 'Consolas', 'Courier New', monospace; }
.reader-html pre code { background: transparent; border: none; padding: 0; display: block; }
/* Desktop: increase horizontal padding for text content */
@media (min-width: 769px) {
  .reader-html, .reader-markdown {
    padding-left: 2rem;
    padding-right: 2rem;
  }
}
/* Article menu */
.article-menu-container { display: flex; justify-content: flex-end; padding: 1.5rem 0 0.5rem; margin-top: 2rem; }
.article-menu-wrapper { position: relative; }
.article-menu-btn { background: none; border: none; color: rgb(161 161 170); /* zinc-400 */ cursor: pointer; padding: 0.5rem 0.75rem; font-size: 0.875rem; display: flex; align-items: center; gap: 0.5rem; transition: all 0.2s ease; border-radius: 6px; }
.article-menu-btn:hover { color: rgb(99 102 241); /* indigo-500 */ background: rgba(99, 102, 241, 0.1); }
.article-menu { position: absolute; right: 0; top: calc(100% + 4px); background: rgb(39 39 42); /* zinc-800 */ border: 1px solid rgb(82 82 91); /* zinc-600 */ border-radius: 6px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); z-index: 1000; min-width: 180px; overflow: hidden; }
.article-menu-item { width: 100%; background: none; border: none; color: rgb(228 228 231); /* zinc-200 */ padding: 0.75rem 1rem; font-size: 0.875rem; display: flex; align-items: center; gap: 0.75rem; cursor: pointer; transition: all 0.15s ease; text-align: left; white-space: nowrap; }
.article-menu-item:hover { background: rgba(99, 102, 241, 0.15); color: rgb(255 255 255); /* white */ }
.article-menu-item svg { font-size: 0.875rem; flex-shrink: 0; }

/* Mark as Read button */
.mark-as-read-container { display: flex; justify-content: center; align-items: center; padding: 2rem 1rem; margin-top: 1rem; }
.mark-as-read-btn { display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; background: rgb(39 39 42); /* zinc-800 */ color: rgb(228 228 231); /* zinc-200 */ border: 1px solid rgb(82 82 91); /* zinc-600 */ border-radius: 8px; font-size: 1rem; font-weight: 500; cursor: pointer; transition: all 0.2s ease; min-width: 160px; justify-content: center; }
.mark-as-read-btn:hover:not(:disabled) { background: rgb(63 63 70); /* zinc-700 */ border-color: rgb(113 113 122); /* zinc-500 */ transform: translateY(-1px); }
.mark-as-read-btn:active:not(:disabled) { transform: translateY(0); }
.mark-as-read-btn:disabled { opacity: 0.6; cursor: not-allowed; }
.mark-as-read-btn svg { font-size: 1.1rem; }
@media (max-width: 768px) {
  .reader {
    max-width: 100%;
    width: 100%;
    margin: 0;
    padding: 0.5rem;
    border-radius: 0;
    border-left: none;
    border-right: none;
  }
  .mark-as-read-container { padding: 1.5rem 1rem; }
  .mark-as-read-btn { width: 100%; max-width: 300px; }
}

/* Hero image in reader/card views */
.article-hero-image { width: 100%; height: 200px; background-size: cover; background-position: center; background-repeat: no-repeat; cursor: pointer; transition: all 0.2s ease; border-radius: 8px 8px 0 0; position: relative; }
.article-hero-image:hover { opacity: 0.9; }
.article-hero-image::after { content: ''; position: absolute; inset: 0; background: linear-gradient(to bottom, transparent 60%, rgba(0,0,0,0.4) 100%); pointer-events: none; border-radius: 8px 8px 0 0; }
.reader-hero-image { width: calc(100% + 1.5rem); margin: -0.75rem -0.75rem 2rem -0.75rem; border-radius: 0; overflow: hidden; position: relative; min-height: 300px; }
.reader-hero-image img { width: 100%; height: auto; max-height: 500px; object-fit: cover; display: block; }
.reader-header-overlay { position: absolute; bottom: 0; left: 0; right: 0; padding: 2rem 2rem 1.5rem; background: linear-gradient(to top, rgba(0, 0, 0, 0.85) 0%, rgba(0, 0, 0, 0.6) 60%, rgba(0, 0, 0, 0) 100%); }
.reader-header-overlay .reader-title { color: #fff; text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5); margin-bottom: 0.75rem; font-size: 2.5rem; font-weight: 700; line-height: 1.2; }
.reader-header-overlay .reader-summary { color: rgba(255, 255, 255, 0.9); font-size: 1.2rem; line-height: 1.6; margin: 0 0 1rem 0; text-shadow: 0 1px 4px rgba(0, 0, 0, 0.4); font-family: var(--reading-font); }
.reader-header-overlay .reader-meta { display: flex; align-items: center; gap: 0.75rem; flex-wrap: wrap; }
.reader-header-overlay .publish-date { color: rgba(255, 255, 255, 0.65); text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3); opacity: 1; }
.reader-header-overlay .publish-date svg { opacity: 0.7; }
.reader-header-overlay .reading-time, .reader-header-overlay .highlight-indicator { background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.25); color: #fff; }
.reader-header-overlay .highlight-indicator { background: rgba(100, 108, 255, 0.25); border: 1px solid rgba(100, 108, 255, 0.4); }
.reader-summary-below-image { display: none; }
@media (max-width: 768px) {
  .reader-header-overlay .reader-summary.hide-on-mobile { display: none; }
  .reader-summary-below-image { display: block; padding: 0 0 1.5rem 0; margin-top: -1rem; }
  .reader-summary-below-image .reader-summary { color: #aaa; font-size: 1rem; line-height: 1.6; margin: 0; }
  .reader-hero-image { min-height: 280px; max-height: 400px; height: 50vh; }
  .reader-hero-image img { height: 100%; width: 100%; object-fit: cover; object-position: center; }
  .reader-header-overlay { padding: 1.5rem 1rem 1rem; }
  .reader-header-overlay .reader-title { font-size: 2rem; line-height: 1.3; }
}

/* Reading Progress Indicator - now using Tailwind utilities in component */


